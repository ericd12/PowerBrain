{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eric\\\\Desktop\\\\powerApp\\\\client\\\\src\\\\components\\\\Elements\\\\ManageElement.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport ElementForm from \"./ElementForm\";\nimport ComponentWrapper from \"../ComponentWrapper\";\nimport { API_URL, BLANK_ELEMENT } from \"../../constants\";\n\nclass ManageElement extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.onChangeDropdown = (e, list) => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: list[value]\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        id\n      } = this.props.match.params;\n      const {\n        elementCategory,\n        elementCogRating,\n        elementDescription,\n        elementDuration,\n        elementFormat,\n        elementLabel,\n        elementLink,\n        elementMarket,\n        elementNumber,\n        elementPhysRating,\n        elementSubCategory\n      } = this.state;\n      axios.put(`${API_URL}/elements/update/${id}`, {\n        elementCategory,\n        elementCogRating,\n        elementDescription,\n        elementDuration,\n        elementFormat,\n        elementLabel,\n        elementLink,\n        elementMarket,\n        elementNumber,\n        elementPhysRating,\n        elementSubCategory\n      }).then(res => {\n        alert(\"updated!\");\n        const {\n          history\n        } = this.props;\n        history.push(\"/elements\");\n      }).catch(err => console.log({\n        err\n      }));\n    };\n\n    this.state = { ...BLANK_ELEMENT\n    };\n  }\n\n  componentDidMount() {\n    const {\n      id\n    } = this.props.match.params;\n    axios.get(`${API_URL}/elements/${id}`).then(response => {\n      this.setState({ ...response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(ComponentWrapper, {\n      title: \"Update Element\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(ElementForm, Object.assign({}, this.state, {\n      buttonText: \"Update Element\",\n      onChange: this.onChange,\n      onChangeDropdown: this.onChangeDropdown,\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default ManageElement;","map":{"version":3,"sources":["C:/Users/Eric/Desktop/powerApp/client/src/components/Elements/ManageElement.js"],"names":["React","Component","axios","ElementForm","ComponentWrapper","API_URL","BLANK_ELEMENT","ManageElement","constructor","props","onChange","e","name","value","target","setState","onChangeDropdown","list","onSubmit","preventDefault","id","match","params","elementCategory","elementCogRating","elementDescription","elementDuration","elementFormat","elementLabel","elementLink","elementMarket","elementNumber","elementPhysRating","elementSubCategory","state","put","then","res","alert","history","push","catch","err","console","log","componentDidMount","get","response","data","error","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport ElementForm from \"./ElementForm\";\r\nimport ComponentWrapper from \"../ComponentWrapper\";\r\nimport { API_URL, BLANK_ELEMENT } from \"../../constants\";\r\n\r\nclass ManageElement extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ...BLANK_ELEMENT,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    axios\r\n      .get(`${API_URL}/elements/${id}`)\r\n      .then((response) => {\r\n        this.setState({\r\n          ...response.data,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  onChangeDropdown = (e, list) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: list[value],\r\n    });\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { id } = this.props.match.params;\r\n    const {\r\n      elementCategory,\r\n      elementCogRating,\r\n      elementDescription,\r\n      elementDuration,\r\n      elementFormat,\r\n      elementLabel,\r\n      elementLink,\r\n      elementMarket,\r\n      elementNumber,\r\n      elementPhysRating,\r\n      elementSubCategory,\r\n    } = this.state;\r\n\r\n    axios\r\n      .put(`${API_URL}/elements/update/${id}`, {\r\n        elementCategory,\r\n        elementCogRating,\r\n        elementDescription,\r\n        elementDuration,\r\n        elementFormat,\r\n        elementLabel,\r\n        elementLink,\r\n        elementMarket,\r\n        elementNumber,\r\n        elementPhysRating,\r\n        elementSubCategory,\r\n      })\r\n      .then((res) => {\r\n        alert(\"updated!\");\r\n        const { history } = this.props;\r\n        history.push(\"/elements\");\r\n      })\r\n      .catch((err) => console.log({ err }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ComponentWrapper title=\"Update Element\">\r\n        <ElementForm\r\n          {...this.state}\r\n          buttonText=\"Update Element\"\r\n          onChange={this.onChange}\r\n          onChangeDropdown={this.onChangeDropdown}\r\n          onSubmit={this.onSubmit}\r\n        />\r\n      </ComponentWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManageElement;\r\n"]},"metadata":{},"sourceType":"module"}