{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eric\\\\Desktop\\\\powerApp\\\\client\\\\src\\\\components\\\\Tracks\\\\TracksTable.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Table } from \"react-bootstrap\";\nimport TracksTableRow from \"./TracksTableRow\";\nimport { CoolTableHead, StyledContainer } from \"../../styles\"; // import ComponentWrapper from \"../ComponentWrapper\";\n\nimport { API_URL } from \"../../constants\";\n\nclass TracksTable extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteTrack = id => {\n      axios.delete(`${API_URL}/tracks/${id}`).then(() => {\n        alert(\"deleted\");\n        this.setState(({\n          tracks\n        }) => {\n          return {\n            tracks: tracks.filter(el => el._id !== id)\n          };\n        });\n      });\n    };\n\n    this.state = {\n      tracks: []\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([axios.get(`${API_URL}/elements/`), axios.get(`${API_URL}/tracks/`)]).then(([e, t]) => {\n      const {\n        data: elements\n      } = e;\n      const {\n        data: tracks\n      } = t;\n      this.setState({\n        elements: elements.reduce((all, one) => {\n          return { ...all,\n            [one._id]: one\n          };\n        }, {}),\n        tracks\n      });\n    });\n  }\n\n  render() {\n    const {\n      tracks,\n      elements\n    } = this.state;\n    return React.createElement(StyledContainer, {\n      fluid: true,\n      title: \"Tracks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Table, {\n      hover: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      style: {\n        borderBottom: \"2px solid white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(CoolTableHead, {\n      width: \"200\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Track #\"), React.createElement(CoolTableHead, {\n      width: \"200\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Track Name\"), React.createElement(CoolTableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Track Info\"), React.createElement(CoolTableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Actions\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, tracks.map(currentTrack => {\n      return React.createElement(TracksTableRow, Object.assign({\n        key: currentTrack._id,\n        deleteTrack: this.deleteTrack\n      }, { ...currentTrack,\n        elements\n      }, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }));\n    }))));\n  }\n\n}\n\nexport default TracksTable;","map":{"version":3,"sources":["C:/Users/Eric/Desktop/powerApp/client/src/components/Tracks/TracksTable.js"],"names":["React","Component","axios","Table","TracksTableRow","CoolTableHead","StyledContainer","API_URL","TracksTable","constructor","props","deleteTrack","id","delete","then","alert","setState","tracks","filter","el","_id","state","componentDidMount","Promise","all","get","e","t","data","elements","reduce","one","render","borderBottom","map","currentTrack"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport TracksTableRow from \"./TracksTableRow\";\r\nimport { CoolTableHead, StyledContainer } from \"../../styles\";\r\n// import ComponentWrapper from \"../ComponentWrapper\";\r\nimport { API_URL } from \"../../constants\";\r\n\r\nclass TracksTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { tracks: [] };\r\n  }\r\n\r\n  componentDidMount() {\r\n    Promise.all([\r\n      axios.get(`${API_URL}/elements/`),\r\n      axios.get(`${API_URL}/tracks/`),\r\n    ]).then(([e, t]) => {\r\n      const { data: elements } = e;\r\n      const { data: tracks } = t;\r\n\r\n      this.setState({\r\n        elements: elements.reduce((all, one) => {\r\n          return {\r\n            ...all,\r\n            [one._id]: one,\r\n          };\r\n        }, {}),\r\n        tracks,\r\n      });\r\n    });\r\n  }\r\n\r\n  deleteTrack = id => {\r\n    axios.delete(`${API_URL}/tracks/${id}`).then(() => {\r\n      alert(\"deleted\");\r\n      this.setState(({ tracks }) => {\r\n        return {\r\n          tracks: tracks.filter(el => el._id !== id),\r\n        };\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { tracks, elements } = this.state;\r\n    return (\r\n      <StyledContainer fluid title=\"Tracks\">\r\n        <Table hover>\r\n          <thead style={{ borderBottom: \"2px solid white\" }}>\r\n            <tr>\r\n              <CoolTableHead width=\"200\">Track #</CoolTableHead>\r\n              <CoolTableHead width=\"200\">Track Name</CoolTableHead>\r\n              <CoolTableHead>Track Info</CoolTableHead>\r\n              <CoolTableHead>Actions</CoolTableHead>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {tracks.map(currentTrack => {\r\n              return (\r\n                <TracksTableRow\r\n                  key={currentTrack._id}\r\n                  deleteTrack={this.deleteTrack}\r\n                  {...{ ...currentTrack, elements }}\r\n                />\r\n              );\r\n            })}\r\n          </tbody>\r\n        </Table>\r\n      </StyledContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TracksTable;\r\n"]},"metadata":{},"sourceType":"module"}